# 日记

## 仪表板改动

- 为满足用户`快速浏览`各元素的仪表板配置情况，对仪表板做了一些改动
- 点击`元素` -> `仪表板`
- 点击`预览`按钮，支持以卡片形式查看仪表板
- 点击`仪表板名称`下拉菜单，可切换仪表板展示
- 点击左侧树中的元素节点，可切换不同元素的仪表板展示，`仪表板名称`默认选择第一个

- 实现方式

```bash
# 在pinia中创建一个对象用于传递（共享）浏览仪表板的状态参数 & 下拉选择菜单，实现元素/仪表板切换保持浏览状态功能
```

## 调整面板、仪表板条目顺序

- 面板分为：普通面板、面板模板
- 两种面板的显示顺序分开来做
  - 第一个普通面板、第一个面板模板`没有上移`
  - 最后一个普通面板、最后一个面板模板`没有下移`
  - 过滤条件不影响调整顺序，直接交换
    - 若两个显示顺序字段都为空，设置`0、1`
    - 若一个显示顺序字段为空，按已有显示顺序`+_1`
    - 若都有值，直接交换

## 面板卡片添加拖拽排序逻辑

- sortablejs

## bar-gauge

```js
option = {
  xAxis: {
    type: 'category',
    data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
  },
  yAxis: {
    type: 'value'
  },
  series: [
    {
      data: [120, 200, 150, 80, 70, 110, 130],
      type: 'bar',
      backgroundStyle: {
        color: 'rgba(180, 180, 180, 0.2)'
      },
      itemStyle: {
        // 设置柱状图样式为渐变色
        // 线性渐变，前四个参数分别是 x0, y0, x2, y2, 范围从 0 - 1，相当于在图形包围盒中的百分比
        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
          {
            offset: 0,
            color: '#FFa' // 起始颜色
          },
          {
            offset: 0.2,
            color: '#faf' // 起始颜色
          },
          {
            offset: 1,
            color: '#188df0' // 结束颜色
          }
        ])
      }
    }
  ]
}
```
