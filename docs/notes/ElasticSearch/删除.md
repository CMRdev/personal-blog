# 删除

## 1、四种删除类型：

- 通过 ID 删除单个文档
- 在单个请求中删除多篇文档
- 删除映射类型
- 删除匹配某个查询的所有文档
  ```json
  POST /newbank/_delete_by_query
  {
    "query": {
      "term": {
        "firstname": {
          "value": "chen"
        }
      }
    }
  }
  ```

## 2、分段+合并

- 一个分段是建立索引时所创建的一块 Lucene 索引（分片）
- 当索引新文档时，不会添加到分段的尾部，而是会创建新的分段
- 分段越多，搜索请求越慢，所以 Lucene 会定期将分段合并（异步）

## 3、关闭/打开索引

- 适合处理日志
